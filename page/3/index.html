<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 3 页 | 马 又</title>
  <meta name="author" content="dongc">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="马 又"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/readable.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">马 又</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="Archives">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/douban" title="books">
			  <i class=""></i>Books
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class=""></i>About me
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header page-header-inverse ">
  <h1 class="title title-inverse ">正襟危坐一码农</h1>
</div>

<div class="row page">

	
	<div class="col-md-9" style="width:100%">
	

		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
        <!-- render top articles firstly -->
        
        <!-- render other articles -->
        
           
           <div class="post">
			  
	
	<!-- display as entry -->	
	<a href="/2015/09/11/479/"  style="text-decoration:none">
		<h3 class="title">
			<div class="article-title" style="color:#4C4C4C">Refactor (一) ：Refactor As A Routine Work</div>
		</h3>
		</a>
	


			  <div class="entry" style="padding-right:12px;">
  <div class="row">
	
	
		<h3 id="What-refactor"><a href="#What-refactor" class="headerlink" title="What refactor ?"></a>What refactor ?</h3><p>Refactoring is done to fill in short-cuts, eliminate duplication and dead code, and to make the design and logic clear.Always to simplify the code and to make it easier to understand. Always to make it easier and safer to change in the future.</p>
<h3 id="Why-refactor"><a href="#Why-refactor" class="headerlink" title="Why refactor ?"></a>Why refactor ?</h3><ul>
<li><strong>代码写得脏</strong></li>
</ul>
<p>可读性差、逻辑不清，导致问题不断，阻碍快速迭代开发。</p>
<p>迫于“时间紧迫、需求易变、编码能力”，那时那刻“思路不清晰<span style="text-decoration: underline;">”</span>地写出“不堪入目”代码。</p>
<ul>
<li><strong>框架单薄，无力支持</strong></li>
</ul>
<p>随着业务量增加，现有的架构太单薄，无力支持庞大的业务量，不得不“<strong>Large Scale Refactoring</strong>”。</p>
<h3 id="How-refactor"><a href="#How-refactor" class="headerlink" title="How refactor ?"></a>How refactor ?</h3><ul>
<li><strong>Confirm your understanding of code</strong></li>
</ul>
<p>首先弄懂代码、增加必要注释。针对业务复杂的，借助UML梳理业务</p>
<ul>
<li><strong>Make refactor safe</strong></li>
</ul>
<p>Regression test your refactoring work and Reviewing all of these changes , ensure that you haven’t changed the behavior – it still works the same.</p>
		<!-- only display read_more button if there's more to display -->
		<a type="button" style="font-size:15px" href="/2015/09/11/479/#more" class="more">阅读此文...</a>
	
	</div>
</div>

			  </div>
           
		
           
           <div class="post">
			  
	
	<!-- display as entry -->	
	<a href="/2015/03/11/285/"  style="text-decoration:none">
		<h3 class="title">
			<div class="article-title" style="color:#4C4C4C">Java (二)：Tired Of Null Pointer Exception</div>
		</h3>
		</a>
	


			  <div class="entry" style="padding-right:12px;">
  <div class="row">
	
	
		<h3 id="Brief"><a href="#Brief" class="headerlink" title="Brief"></a>Brief</h3><blockquote>
<p>A wise man once said you are not a real Java programmer until you’ve dealt with a null pointer exception.
没有处理过空指针，不算是真正的JAVA程序员</p>
</blockquote>
<p>A NullPointerException at runtime and stop your program from running further.imagine if your program was running on a customer’s machine; what would your customer say if the program suddenly failed?</p>
<blockquote>
<p>To give some historical context, Tony Hoare—one of the giants of computer science—wrote, “I call it my billion-dollar mistake. It was the invention of the null reference in 1965. I couldn’t resist the temptation to put in a null reference, simply because it was so easy to implement.</p>
<p>空指针造成十亿美元的损失
Let’s start with an example to see the dangers of <strong>Null</strong>. a nested object structure for a Computer, as illustrated：</p>
</blockquote>
<p><a href="/images/OPTIONAL-1.png"><img src="/images/OPTIONAL-1.png" alt="OPTIONAL"></a></p>
<p>&nbsp;</p>
<pre class="lang:java decode:true">String version = computer.getSoundcard().getUsb().getVersion();</pre>

<p><span style="color: #000000;"><strong>How do avoid making NullPointerException ?</strong></span></p>
		<!-- only display read_more button if there's more to display -->
		<a type="button" style="font-size:15px" href="/2015/03/11/285/#more" class="more">阅读此文...</a>
	
	</div>
</div>

			  </div>
           
		
           
           <div class="post">
			  
	
	<!-- display as entry -->	
	<a href="/2015/03/08/273/"  style="text-decoration:none">
		<h3 class="title">
			<div class="article-title" style="color:#4C4C4C">Java (一)：Why Use Primitive Types In Java ?</div>
		</h3>
		</a>
	


			  <div class="entry" style="padding-right:12px;">
  <div class="row">
	
	
		<h3 id="Not-everything-in-java-is-an-object"><a href="#Not-everything-in-java-is-an-object" class="headerlink" title="Not everything in java is an object !"></a>Not everything in java is an object !</h3><p>Java has a <strong>dual-type</strong> system, include <strong>Primitive Types</strong> and <strong>Object Types</strong>. Primitive types are <strong>value-based</strong>, but object types are<strong> reference-based</strong>.</p>
<p>There are <span style="text-decoration: underline;"><a href="https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html" target="_blank" rel="external">eight primitive types</a></span> predefined in Java. For each primitive type there is a corresponding wrapper class that is an object type.</p>
<h3 id="Why-use-primitive-type"><a href="#Why-use-primitive-type" class="headerlink" title="Why use primitive type ?"></a>Why use primitive type ?</h3><p>The most important factor to consider for using primitive types in Java are <strong>performance, </strong>software performance is usually measured in terms of <strong>space</strong> and <strong>time</strong>.</p>
<p><strong>space. </strong>java can use primitive types to create automatic variables (<strong>local variable </strong>局部变量) that are not references. The variables hold the value, and it’s place on the <strong>stack</strong>(栈) so its much more efficient.</p>
<p>Creating an object using new isn’t very efficient because new will place objects on the <strong>heap</strong>(堆). This approach would be very costly for small and simple variables.</p>
<pre class="">a single double occupy 8 bytes , a single Double occupy 24 bytes.
</pre>
primitive types创建的局部变量所占的空间，方法执行完后自动被释放掉；object types所占的空间，需触发GC回收, 方才释放。
<br>
<br>
<span style="text-decoration: underline;"><b>Runtime Performance</b></span>
<br>
To compare the runtime performances for primitives and objects, we need an algorithm dominated by numerical calculations. For this article I have chosen matrix multiplication, and I compute the time required to multiply two 1000-by-1000 matrices.
		<!-- only display read_more button if there's more to display -->
		<a type="button" style="font-size:15px" href="/2015/03/08/273/#more" class="more">阅读此文...</a>
	
	</div>
</div>

			  </div>
           
		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/page/2/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> 上一页</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/4/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->


	
</div> <!-- row-fluid -->


	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2017 dongc
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>





</body>
   </html>
